# –û—Ç—á–µ—Ç –æ –ø—Ä–æ–¥–µ–ª–∞–Ω–Ω–æ–π —Ä–∞–±–æ—Ç–µ: –ü—Ä–æ—à–∏–≤–∫–∞ –¥–ª—è STM32F4

<div align="center">

üöÄ **–£–°–ü–ï–®–ù–û –ó–ê–í–ï–†–®–ï–ù–û** ‚Ä¢ **STM32F4** ‚Ä¢ **UART** ‚Ä¢ **Renode**

</div>

## üìã –û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞

–†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–∞ –ø—Ä–æ—à–∏–≤–∫–∞ –¥–ª—è –º–∏–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞ **STM32F4**, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—â–∞—è –≤—ã–≤–æ–¥ —Å–æ–æ–±—â–µ–Ω–∏—è `"Hello, Nikita"` –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª —á–µ—Ä–µ–∑ **UART-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å**.

---

## üõ†Ô∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

### üèóÔ∏è –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å—Ä–µ–¥—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

| –≠—Ç–∞–ø | –°—Ç–∞—Ç—É—Å | –î–µ—Ç–∞–ª–∏ |
|------|--------|---------|
| –£—Å—Ç–∞–Ω–æ–≤–∫–∞ PlatformIO | ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ | –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –º–∏–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞–º–∏ |
| –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å—Ä–µ–¥—ã | ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ | –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–æ–¥ STM32F4 |
| –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ | ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ | –ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ |

### üíª –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–¥–∞

**–û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª:** `src/main.c`

```c
#include <stdio.h>
#include "stm32f4xx.h"

int main(void) {
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã
    SystemInit();
    
    // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ UART –¥–ª—è –≤—ã–≤–æ–¥–∞ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª
    // (–∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –ø–∏–Ω–æ–≤)
    
    while(1) {
        printf(""üëã Hello, Nikita! üåü\n"");
        // –ó–∞–¥–µ—Ä–∂–∫–∞ –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ —á—Ç–µ–Ω–∏—è –≤—ã–≤–æ–¥–∞
        for(int i = 0; i < 1000000; i++);
    }
    
    return 0;
}
```

### ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞

**–§–∞–π–ª:** `platformio.ini`

```ini
[env:disco_f407vg] #1
platform = ststm32
board = disco_f407vg
framework = cmsis
monitor_speed = 115200
```

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ Renode 1.16.0

### üîß –ü—Ä–æ—Ü–µ—Å—Å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

| –®–∞–≥ | –ö–æ–º–∞–Ω–¥–∞ | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –†–µ–∑—É–ª—å—Ç–∞—Ç |
|-----|---------|-------------|-----------|
| 1 | `mach create` | –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –º–∏–∫—Ä–æ—á–∏–ø–∞ | ‚úÖ –£—Å–ø–µ—à–Ω–æ |
| 2 | `machine LoadPlatformDescription @platforms/boards/stm32f4_discovery-kit.repl` | –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ | ‚úÖ –£—Å–ø–µ—à–Ω–æ |
| 3 | `sysbus LoadELF ".../firmware.elf"` | –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ—à–∏–≤–∫–∏ | ‚úÖ –£—Å–ø–µ—à–Ω–æ |
| 4 | `showAnalyzer sysbus.usart2` | –ê–∫—Ç–∏–≤–∞—Ü–∏—è –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä–∞ USART2 | ‚úÖ –£—Å–ø–µ—à–Ω–æ |
| 5 | `s` (–∏–ª–∏ `start`) | –ó–∞–ø—É—Å–∫ —ç–º—É–ª—è—Ü–∏–∏ | ‚úÖ –£—Å–ø–µ—à–Ω–æ |

### üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

- ‚úÖ **–ü—Ä–æ—à–∏–≤–∫–∞ —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω–∞** –≤ —ç–º—É–ª—è—Ç–æ—Ä
- ‚úÖ **–°–æ–æ–±—â–µ–Ω–∏–µ "Hello, Nikita"** –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –≤—ã–≤–æ–¥–∏—Ç—Å—è –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª
- ‚úÖ **–°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ** –≤ —ç–º—É–ª–∏—Ä—É–µ–º–æ–π —Å—Ä–µ–¥–µ
- ‚úÖ **UART-–∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è** —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç –±–µ–∑ –æ—à–∏–±–æ–∫

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
project/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îî‚îÄ‚îÄ main.c              # –û—Å–Ω–æ–≤–Ω–æ–π –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥
‚îú‚îÄ‚îÄ platformio.ini          # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–±–æ—Ä–∫–∏
‚îî‚îÄ‚îÄ README.md              # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

---

## üéØ –î–æ—Å—Ç–∏–≥–Ω—É—Ç—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

<div align="center">

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –†–µ–∑—É–ª—å—Ç–∞—Ç | –°—Ç–∞—Ç—É—Å |
|-----------|-----------|--------|
| **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å** | –í—ã–≤–æ–¥ —Å–æ–æ–±—â–µ–Ω–∏—è —á–µ—Ä–µ–∑ UART | ‚úÖ **–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ** |
| **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** | –≠–º—É–ª—è—Ü–∏—è –≤ Renode | ‚úÖ **–£—Å–ø–µ—à–Ω–æ** |
| **–ö–æ–¥** | –ß–∏—Å—Ç–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ | ‚úÖ **–ì–æ—Ç–æ–≤–æ** |
| **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** | –ü–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ | ‚úÖ **–ó–∞–≤–µ—Ä—à–µ–Ω–æ** |

</div>

---

## üìà –°—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–∞

<div align="center">

### üéâ **–ü–†–û–ï–ö–¢ –£–°–ü–ï–®–ù–û –ó–ê–í–ï–†–®–ï–ù** üéâ

**–í—Å–µ –ø–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã –≤ –ø–æ–ª–Ω–æ–º –æ–±—ä–µ–º–µ**

</div>

<img width="1519" height="766" alt="image" src="https://github.com/user-attachments/assets/3495935d-24c1-4ee3-b3ce-35f6b73352f3" />
<img width="1458" height="888" alt="image" src="https://github.com/user-attachments/assets/acd6e7a5-c651-4128-9433-0edb749a06da" />







